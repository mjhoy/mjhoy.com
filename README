Website generator for http://mjhoy.com
--------------------------------------


DEVELOPMENT

  I use Hakyll [1] to build my site. You'll need to build a Haskell
  executable, which requires GHC and Cabal.

  First, clone the repository and cd into it.

    $ cd ~/src
    $ git clone git@github.com:mjhoy/mjhoy.com.git
    $ cd mjhoy.com

  Optional: set up a sandbox environment.

    $ cabal sandbox init

  Build the "blog" executable.

    $ cabal install --dependencies-only
    $ cabal build
    $ ./dist/build/blog/blog build

  Run a server (automatic re-building):

    $ ./dist/build/blog/blog watch [port]

  You can see more commands using --help.

    $ ./dist/build/blog/blog --help

  For instance, Hakyll can check for broken links. Very cool.

    $ ./dist/build/blog/blog check


DEVELOPMENT (nix)

  Don't do the cabal setup; instead:

    $ nix-shell

  This command will install ghc and the required packages into a shell
  ready for building. Now you can run the cabal commands:

    [nix-shell]$ cabal configure
    [nix-shell]$ cabal build

DEPLOYMENT

  What I do is very simple: build the site and rsync the _site/
  directory. See deploy.example for a sample script.


REFERENCES

  [1]: Hakyll site generator library, http://jaspervdj.be/hakyll/

  [2]: https://github.com/jwiegley/nix-config/blob/master/nix-cabal-build
