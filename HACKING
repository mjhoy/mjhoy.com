I use Hakyll [1] to build my site. You'll need to build a Haskell
executable, which requires GHC and Cabal. If you don't have those, you
should probably go learn about Haskell first!

First, clone the repository and cd into it.

  $ cd ~/src
  $ git clone git@github.com:mjhoy/mjhoy.com.git
  $ cd mjhoy.com

Optional: set up a sandbox environment. (Better: use Nix. See
below.)

  $ cabal sandbox init

Build the "blog" executable.

  $ cabal install --dependencies-only
  $ cabal build
  $ ./dist/build/blog/blog build

Run a server (automatic re-building):

  $ ./dist/build/blog/blog watch [port]

You can see more commands using --help.

  $ ./dist/build/blog/blog --help

For instance, Hakyll can check for broken links. Very cool.

  $ ./dist/build/blog/blog check

Nix can do all the work of setting up dependencies (and also download
binaries). If you don't know about nix, go check it out! [2] It works
on OSX and Linux. Assuming you do have nix, and a
~/.nixpkgs/config.nix file, in config.nix, define a "mjhoy_com"
package or some such:

  mjhoy_com = haskellPackages.callPackage ~/path/to/mjhoy.com {};

Now you can run the following command to drop you into a shell with
all the dependencies available:

  $ nix-shell '<nixpkgs>' -A mjhoy_com

And now you can build with cabal:

  [nix-shell]$ cabal configure
  [nix-shell]$ cabal build
  [nix-shell]$ ./dist/build/blog/blog watch

Note that `nix-env -iA nixpkgs.mjhoy_com; blog watch` won't work as
the compass dependency is not installed into your PATH. To do this you
can run `nix-env -iA nixpkgs.compass`.

----------
References

[1]: Hakyll site generator library, http://jaspervdj.be/hakyll/

[2]: Nix: http://nixos.org/nix
